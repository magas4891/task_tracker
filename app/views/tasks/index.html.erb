<h1>Dashboard</h1>

<div class="d-flex gap-3" data-controller="sortable" data-sortable-target="categories">
  <% @categories.each do |cat| %>
    <div class="card category-card item" style="min-width: 350px;">
      <h5 class="card-header">
        <%= cat.name %>
        <i class="bi bi-arrows-move category-handle float-end"></i>
      </h5>
      <div class="card-body">
        <ul class="p-0" data-category-id="<%= cat.id %>" data-sortable-target="tasks">
          <%- current_user.tasks.category_tasks(cat.id).each do |t| %>
            <li class="task-item list-unstyled" data-task-id="<%= t.id %>">
              <i class="bi bi-arrows-move task-handle pr-3"></i>
              <%= t.title %>
            </li>
          <% end %>
        </ul>
      </div>
    </div>
  <% end %>
</div>








<!--<div id="tasks">-->
  <%#= render 'tasks/tasks' %>
<!--</div>-->

<%#= turbo_frame_tag 'new_task' do %>
  <%#= render 'tasks/new_task' %>
<%# end %>
